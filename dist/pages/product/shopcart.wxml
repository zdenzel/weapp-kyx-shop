
    <wxs src="../../wxs/filter.wxs" module="filter"/>

<block  wx:if="{{$shopcart$shopCartList.length}}">
    <form class="shopcart" report-submit="true" bindsubmit="$shopcart$formSubmit">
        <view class="shopcart-contain">
            <block wx:for="{{$shopcart$shopCartList}}" wx:for-index="$shopcart$index" wx:for-item="$shopcart$product" wx:key="$shopcart$product.id">
                <wxc-flex class="shopcart-product">
                    <view class="shopcart-product-check" catchtap="$shopcart$onCheckOne" data-wpyoncheckone-a="{{$shopcart$product}}">
                        <text class="icon icon-radio{{ $shopcart$product.isSelected ? '-cur': '' }}"/>
                    </view>
                    <navigator class="shopcart-product-cover" url="/pages/product/detail?id={{$shopcart$product.id}}">
                        <image src="{{filter.thumbnail($shopcart$product.cover,$shopcart$optimize)}}" mode="scaleToFill"/>
                    </navigator>
                    <wxc-flex class="shopcart-product-main" main="between" dir="top">
                        <wxc-flex class="shopcart-product-contain" dir="top">
                            <view class="shopcart-product-title">{{$shopcart$product.title}}</view>
                            <view class="shopcart-product-text">{{$shopcart$product.skuAttrText || ''}}</view>
                        </wxc-flex>
                        <wxc-flex class="shopcart-product-count" main="between" cross="center">
                            <text class="price">{{$shopcart$product.price}}</text>
                            <wxc-counter class="counter" number="{{$shopcart$product.count || 1}}" max="{{$shopcart$product.stock || 1}}" min="1"  bind:changenumber="$shopcart$onChangeCounter" data-value="{{$shopcart$product}}"/>
                        </wxc-flex>
                        <text class="icon icon-close" catchtap="$shopcart$onDelCart" data-wpyondelcart-a="{{$shopcart$product}}"/>
                    </wxc-flex>
                </wxc-flex>
            </block>
        </view>
        <wxc-flex class="shopcart-toolbar">
            <wxc-flex class="contain" cross="center" main="between">
                <view class="check">
                    <label catchtap="$shopcart$onCheckAll" data-wpyoncheckall-a="">
                        <text class="icon icon-radio{{ $shopcart$isSelectedAll ? '-cur': '' }}"/>
                        <text>全选</text>
                    </label>
                </view>
                <view class="amount">
                    合计：<text class="price">{{$shopcart$totalAmount}}</text>
                </view>
            </wxc-flex>
            <button class="submit" type="base" size="bigger" form-type="submit">结算</button>
        </wxc-flex>
    </form>
</block>

    <view class="cp-nulldata" wx:else>
        <view class="cp-nulldata-main" style="padding:{{$shopcart$nulldata$padding}} 0;">
            <view class="cp-nulldata-icon icon icon-nulldata" style="color:{{$shopcart$nulldata$iconColor}}"/>
            <view class="cp-nulldata-text" style="color:{{$shopcart$nulldata$textColor}}">{{$shopcart$nulldata$text}}</view>
        </view>
    </view>

